<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Blanco â€” Minimal Clothing Store (Prototype)</title>
  <link rel="icon" type="image/x-icon" href="./Imgs/fav.jpg">

  <!-- Basic reset + system font stack for a modern minimal feel -->
  <style>
    :root{
      --bg: #ffffff;
      --muted:#f5f5f5;
      --text:#111111;
      --accent:#222222;
      --accent-2:#9b9b9b;
      --cta:#111111;
      --cta-text:#fff;
      --card-shadow: 0 6px 18px rgba(17,17,17,0.06);
      --radius:8px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;}
    body{
      margin:0;
      font-family:Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color:var(--text);
      background:var(--bg);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.35;
    }

    /* Container */
    .container{max-width:1200px;margin:0 auto;padding:24px;}

    /* Header */
    header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:16px;
      padding:12px 0;
    }
    .brand{
      font-weight:700;
      font-size:20px;
      letter-spacing:1px;
      color:var(--accent);
      text-transform:uppercase;
    }
    nav{
      display:flex;
      gap:18px;
      align-items:center;
    }
    nav a{
      text-decoration:none;
      color:var(--accent-2);
      font-size:14px;
      text-transform:uppercase;
      letter-spacing:0.6px;
      cursor:pointer;
    }
    nav a.active{
      color:var(--accent);
      font-weight:600;
    }
    .icon-btn{
      border: none;
      background: none;
      cursor:pointer;
      font-size:16px;
      color:var(--accent-2);
      padding:8px;
    }

    /* Hero */
    .hero{
      display:flex;
      gap:24px;
      align-items:center;
      margin:20px 0 32px;
    }
    .hero-left{
      flex:1;
      max-width:520px;
    }

    .hero-bg-local {
      background-image: url('./Imgs/fav.jpg');
      background-color: transparent !important;
      /* Add other background properties if needed */
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }

    .eyebrow{color:var(--accent-2);text-transform:uppercase;font-size:12px;letter-spacing:1px}
    .hero-title{
      font-size:40px;
      margin:8px 0 12px;
      font-weight:700;
    }
    .hero-desc{color:var(--accent-2);margin-bottom:18px;max-width:44ch}
    .cta{
      display:inline-block;
      background:var(--cta);
      color:var(--cta-text);
      padding:10px 16px;
      border-radius:6px;
      text-decoration:none;
      font-weight:600;
      font-size:14px;
      cursor:pointer;
    }
    .hero-right{
      flex:1;
      display:flex;
      justify-content:center;
      align-items:center;
    }
    .hero-img{
      background-color: transparent !important;
      width:320px;
      height:420px;
<!--      border-radius:12px;-->
      background-size:cover;
      background-position:center;
<!--      box-shadow:var(&#45;&#45;card-shadow);-->
    }

    /* Product grid */
    .grid{
      display:grid;
      grid-template-columns:repeat(4,1fr);
      gap:20px;
      margin-bottom:32px;
    }
    .card{
      background:var(--bg);
      border-radius:8px;
      overflow:hidden;
      box-shadow:var(--card-shadow);
      display:flex;
      flex-direction:column;
    }
    .card-media{
      width:100%;
      height:380px;
      background-size:cover;
      background-position:center;
      transition:transform .35s ease;
    }
    .card:hover .card-media{transform:scale(1.03)}
    .card-body{padding:12px 14px;display:flex;justify-content:space-between;align-items:center;gap:8px;}
    .product-title{font-size:14px;font-weight:600;text-transform:capitalize}
    .product-price{font-size:14px;color:var(--accent-2)}
    .quick{
      border:none;background:none;cursor:pointer;color:var(--accent-2);font-size:14px;padding:6px;
    }

    /* Video Container - Classic & Professional */
    .video-section {
      margin: 60px 0;
      text-align: center;
      width: 100%;
    }
    .video-section-title {
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 8px;
      color: var(--accent);
      letter-spacing: 0.5px;
    }
    .video-section-subtitle {
      color: var(--accent-2);
      font-size: 14px;
      margin-bottom: 40px;
      max-width: 500px;
      margin-left: auto;
      margin-right: auto;
    }
    .video-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
      width: 100%;
      max-width: 900px;
      margin: 0 auto;
    }
    .video-item {
      width: 100%;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 8px 32px rgba(0,0,0,0.08);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .video-item:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 40px rgba(0,0,0,0.12);
    }
    .video-item video {
      width: 100%;
      height: 300px;
      object-fit: cover;
      display: block;
    }

    /* Cart drawer */
    .cart-btn{
      position:relative;
      display:inline-flex;
      align-items:center;
      gap:10px;
      border:1px solid var(--muted);
      padding:8px 12px;
      border-radius:8px;
      background:transparent;
      cursor:pointer;
    }
    .cart-count{
      background:#ff6347;color:#fff;border-radius:50%;width:20px;height:20px;display:inline-grid;place-items:center;font-size:12px;
    }

    .drawer{
      position:fixed;
      right:0;
      top:0;
      height:100%;
      width:380px;
      max-width:92vw;
      background:#fff;
      box-shadow:-18px 0 50px rgba(0,0,0,0.08);
      transform:translateX(100%);
      transition:transform .35s ease;
      z-index:1200;
      display:flex;
      flex-direction:column;
    }
    .drawer.open{transform:translateX(0)}
    .drawer-header{padding:18px;border-bottom:1px solid var(--muted);display:flex;justify-content:space-between;align-items:center}
    .drawer-content{padding:14px;flex:1;overflow:auto}
    .drawer-footer{padding:16px;border-top:1px solid var(--muted);display:flex;justify-content:space-between;align-items:center}

    .cart-item{display:flex;gap:12px;align-items:center;padding:10px 0;border-bottom:1px dashed #eee}
    .cart-thumb{width:64px;height:64px;background-size:cover;background-position:center;border-radius:6px}
    .cart-meta{flex:1}
    .cart-meta h4{margin:0;font-size:14px}
    .cart-meta p{margin:6px 0 0;color:var(--accent-2);font-size:13px}
    .qty{display:flex;align-items:center;gap:8px;margin-top:8px}
    .qty button{padding:6px 8px;border-radius:6px;border:1px solid var(--muted);background:none;cursor:pointer}

    /* Modal */
    .modal-bg{
      position:fixed;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,0.45);display:none;align-items:center;justify-content:center;z-index:1300;
    }
    .modal-bg.open{display:flex}
    .modal{
      width:880px;max-width:95vw;background:#fff;border-radius:10px;box-shadow:0 30px 60px rgba(0,0,0,0.15);overflow:hidden;display:flex;
    }
    .modal-media{width:50%;height:520px;background-size:cover;background-position:center}
    .modal-body{padding:22px;flex:1;display:flex;flex-direction:column;gap:14px}
    .close{border:none;background:none;font-size:18px;cursor:pointer;color:var(--accent-2)}

    /* Footer */
    footer{padding:32px 0;color:var(--accent-2);font-size:13px;text-align:center;border-top:1px solid var(--muted)}

    /* Responsive */
    @media(max-width:1000px){
      .grid{grid-template-columns:repeat(3,1fr)}
      .hero{flex-direction:column;align-items:flex-start}
      .hero-right{order:-1;width:100%}
      .hero-img{width:100%;height:420px}
      .video-container {
        max-width: 600px;
      }
    }
    @media(max-width:720px){
      .grid{grid-template-columns:repeat(2,1fr)}
      .card-media{height:300px}
      .modal{flex-direction:column}
      .modal-media{width:100%;height:260px}
      .video-container {
        grid-template-columns: 1fr;
        max-width: 400px;
      }
      .video-item video {
        height: 250px;
      }
    }
    @media(max-width:420px){
      .grid{grid-template-columns:1fr}
      .hero-title{font-size:28px}
      .hero-desc{font-size:14px}
      .video-item video {
        height: 200px;
      }
      .video-section-title {
        font-size: 20px;
      }
    }

    /* Tiny helper */
    .muted{color:var(--accent-2);font-size:13px}
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header>
      <div class="brand" aria-label="Boutique">Blanco</div>

      <nav aria-label="Main navigation">
        <a href="#" class="nav-link active" data-category="all">New</a>
        <a href="#" class="nav-link" data-category="women">Women</a>
        <a href="#" class="nav-link" data-category="men">Men</a>
        <a href="#" class="nav-link" data-category="accessories">Accessories</a>
        <a href="#" class="nav-link" data-category="kids">Kids</a>
      </nav>

      <div style="display:flex;align-items:center;gap:12px">
        <button class="icon-btn" title="Account" aria-label="Account">ðŸ‘¤</button>
        <button class="cart-btn" id="open-cart" aria-label="Open cart">
          <span>Cart</span>
          <span class="cart-count" id="cart-count">0</span>
        </button>
      </div>
    </header>

    <!-- Hero -->
    <section class="hero" aria-labelledby="hero-title">
      <div class="hero-left">
        <div class="eyebrow">spring / summer</div>
        <h1 class="hero-title" id="hero-title">Minimal Collection â€” Timeless pieces</h1>
        <p class="hero-desc">A small curated selection of essential garments with a clean and modern aesthetic. High-quality clothing's, simple, and frictionless checkout.</p>
        <a class="cta" href="#" id="shop-now">Shop new arrivals</a>
      </div>
      <div class="hero-right">
        <div class="hero-img hero-bg-local" role="img" aria-label="Model wearing minimal outfit"></div>
      </div>
    </section>

    <!-- Product grid -->
    <main>
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
        <div class="muted">Showing <strong id="product-count">8</strong> products</div>
        <div class="muted">Sort: <select id="sort">
          <option value="popular">Popular</option>
          <option value="price-asc">Price: Low to high</option>
          <option value="price-desc">Price: High to low</option>
        </select></div>
      </div>

      <div id="main-content">
        <!-- First 12 products and video section will be injected here by JS -->
      </div>
    </main>

    <footer>
      Â© Blanco â€” Minimal clothing prototype â€¢ Built as a demo. Use original imagery and branding for production.
    </footer>
  </div>

  <!-- Cart Drawer -->
  <aside class="drawer" id="cart-drawer" aria-hidden="true">
    <div class="drawer-header">
      <strong>Shopping Cart</strong>
      <button class="close" id="close-cart" aria-label="Close cart">âœ•</button>
    </div>
    <div class="drawer-content" id="cart-items"></div>
    <div class="drawer-footer">
      <div>
        <div class="muted">Estimated total</div>
        <div style="font-weight:700;font-size:18px" id="cart-total">â‚¦0.00</div>
      </div>
      <button class="cta" id="checkout" style="background:var(--cta);">Checkout</button>
    </div>
  </aside>

  <!-- Product Modal -->
  <div class="modal-bg" id="modal-bg" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document">
      <div class="modal-media" id="modal-media" style="background-image:url('')"></div>
      <div class="modal-body">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <h3 id="modal-title" style="margin:0">Product</h3>
          <button class="close" id="close-modal" aria-label="Close">âœ•</button>
        </div>
        <div id="modal-desc" class="muted">Description</div>
        <div style="display:flex;gap:12px;align-items:center">
          <div style="font-weight:700;font-size:20px" id="modal-price">â‚¦0.00</div>
          <div class="muted" id="modal-sku">SKU: â€”</div>
        </div>

        <div style="margin-top:auto;display:flex;gap:12px">
          <button class="cta" id="add-to-cart-modal">Add to cart</button>
          <button class="quick" id="view-details">View details</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Script: product data + behaviors -->
  <script>
    // Mock product data with categories - all prices set to â‚¦40,000
    const products = [
      { id: 'p1', title:'Oversized Shirt', price:40000, img:'./Imgs/p1.jpg', sku:'S-001', category: 'women' },
      { id: 'p2', title:'Tailored Jacket', price:40000, img:'./Imgs/p2.jpg', sku:'J-012', category: 'men' },
      { id: 'p3', title:'Relaxed Trousers', price:40000, img:'./Imgs/p3.jpg', sku:'T-108', category: 'women' },
      { id: 'p4', title:'Minimal Dress', price:40000, img:'./Imgs/p4.jpg', sku:'D-004', category: 'women' },
      { id: 'p5', title:'Classic Tee', price:40000, img:'./Imgs/p5.jpg', sku:'TS-010', category: 'men' },
      { id: 'p6', title:'Lightweight Knit', price:40000, img:'./Imgs/p6.jpg', sku:'KN-022', category: 'women' },
      { id: 'p7', title:'Long Coat', price:40000, img:'./Imgs/p7.jpg', sku:'C-088', category: 'men' },
      { id: 'p8', title:'Everyday Shorts', price:40000, img:'./Imgs/p8.jpg', sku:'SH-009', category: 'men' },
      { id: 'p9', title:'Kids T-Shirt', price:40000, img:'./Imgs/p5.jpg', sku:'KT-001', category: 'kids' },
      { id: 'p10', title:'Kids Jacket', price:40000, img:'./Imgs/p112.jpg', sku:'KJ-002', category: 'kids' },
      { id: 'p11', title:'Leather Bag', price:40000, img:'./Imgs/p111.jpg', sku:'A-101', category: 'accessories' },
      { id: 'p12', title:'Minimal Watch', price:40000, img:'./Imgs/p3.jpg', sku:'A-102', category: 'accessories' },
      { id: 'p13', title:'Elegant Scarf', price:40000, img:'./Imgs/p300.jpg', sku:'A-103', category: 'accessories' },
      { id: 'p14', title:'Classic Belt', price:40000, img:'./Imgs/p301.jpg', sku:'A-104', category: 'accessories' },
      { id: 'p15', title:'Sunglasses', price:40000, img:'./Imgs/p302.jpg', sku:'A-105', category: 'accessories' },
      { id: 'p16', title:'Weekend Bag', price:40000, img:'./Imgs/p303.jpg', sku:'A-106', category: 'accessories' },
      { id: 'p17', title:'Evening Gown', price:40000, img:'./Imgs/p304.jpg', sku:'D-005', category: 'women' },
      { id: 'p18', title:'Casual Blouse', price:40000, img:'./Imgs/p333.jpg', sku:'S-002', category: 'women' },
      { id: 'p19', title:'Winter Sweater', price:40000, img:'./Imgs/p401.jpg', sku:'KN-023', category: 'women' },
      { id: 'p20', title:'Formal Shirt', price:40000, img:'./Imgs/p402.jpg', sku:'S-003', category: 'men' },
      { id: 'p21', title:'Casual Pants', price:40000, img:'./Imgs/p403.jpg', sku:'T-109', category: 'men' },
    ];

    // App state
    const state = {
      cart: {}, // id -> { product, qty }
      currentCategory: 'all'
    };

    // Utilities
    const $ = id => document.getElementById(id);
    function formatPrice(v){ return 'â‚¦' + v.toLocaleString('en-NG') }

    // Render products with video section after first 12 products
    const mainContent = $('main-content');
    function renderProducts(list){
      mainContent.innerHTML = '';
      const filteredList = state.currentCategory === 'all'
        ? list
        : list.filter(p => p.category === state.currentCategory);

      // Split products into first 12 and remaining
      const firstTwelve = filteredList.slice(0, 12);
      const remainingProducts = filteredList.slice(12);

      // Create first grid for first 12 products
      const firstGrid = document.createElement('section');
      firstGrid.className = 'grid';
      firstGrid.setAttribute('aria-live', 'polite');

      // Add first 12 products
      firstTwelve.forEach(p => {
        const el = document.createElement('article');
        el.className = 'card';
        el.innerHTML = `
          <div class="card-media" style="background-image:url('${p.img}')" role="img" aria-label="${p.title}"></div>
          <div class="card-body">
            <div>
              <div class="product-title">${p.title}</div>
              <div class="product-price">${formatPrice(p.price)}</div>
            </div>
            <div style="display:flex;flex-direction:column;align-items:flex-end">
              <button class="quick" data-id="${p.id}" aria-label="Quick view ${p.title}">Quick view</button>
              <button class="quick" data-add="${p.id}" aria-label="Add ${p.title} to cart">ï¼‹</button>
            </div>
          </div>
        `;
        firstGrid.appendChild(el);
      });

      mainContent.appendChild(firstGrid);

      // Add video section after first 12 products (only if there are more than 12 products)
      if (filteredList.length > 12) {
        const videoSection = document.createElement('div');
        videoSection.className = 'video-section';
        videoSection.innerHTML = `
          <h2 class="video-section-title">The Blanco Experience</h2>
          <p class="video-section-subtitle">Discover the craftsmanship and elegance behind our minimal collection</p>
          <div class="video-container">
            <div class="video-item">
              <video autoplay loop muted playsinline>
                <source src="./Videos/video1.mp4" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            </div>
            <div class="video-item">
              <video autoplay loop muted playsinline>
                <source src="./Videos/video2.mp4" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            </div>
            <div class="video-item">
              <video autoplay loop muted playsinline>
                <source src="./Videos/video3.mp4" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            </div>
            <div class="video-item">
              <video autoplay loop muted playsinline>
                <source src="./Videos/video4.mp4" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            </div>
          </div>
        `;
        mainContent.appendChild(videoSection);
      }

      // Add remaining products in a separate grid
      if (remainingProducts.length > 0) {
        const remainingGrid = document.createElement('section');
        remainingGrid.className = 'grid';
        remainingGrid.setAttribute('aria-live', 'polite');

        remainingProducts.forEach(p => {
          const el = document.createElement('article');
          el.className = 'card';
          el.innerHTML = `
            <div class="card-media" style="background-image:url('${p.img}')" role="img" aria-label="${p.title}"></div>
            <div class="card-body">
              <div>
                <div class="product-title">${p.title}</div>
                <div class="product-price">${formatPrice(p.price)}</div>
              </div>
              <div style="display:flex;flex-direction:column;align-items:flex-end">
                <button class="quick" data-id="${p.id}" aria-label="Quick view ${p.title}">Quick view</button>
                <button class="quick" data-add="${p.id}" aria-label="Add ${p.title} to cart">ï¼‹</button>
              </div>
            </div>
          `;
          remainingGrid.appendChild(el);
        });

        mainContent.appendChild(remainingGrid);
      }

      $('product-count').textContent = filteredList.length;
    }

    // Initialize with all products
    renderProducts(products);

    // Category navigation
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();

        // Update active state
        document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
        e.target.classList.add('active');

        // Filter products
        state.currentCategory = e.target.dataset.category;
        let filteredProducts = products;

        if (state.currentCategory !== 'all') {
          filteredProducts = products.filter(p => p.category === state.currentCategory);
        }

        // Apply current sort to filtered products
        const sortValue = $('sort').value;
        let sorted = [...filteredProducts];
        if(sortValue==='price-asc') sorted.sort((a,b)=>a.price-b.price);
        else if(sortValue==='price-desc') sorted.sort((a,b)=>b.price-a.price);

        renderProducts(sorted);
      });
    });

    // Quick view modal - attach event to main content
    mainContent.addEventListener('click', (e) => {
      const quick = e.target.closest('.quick');
      if(!quick) return;
      const id = quick.dataset.id;
      const addId = quick.dataset.add;
      if(id){
        openModal(id);
      } else if(addId){
        addToCart(addId,1);
      }
    });

    // Modal functions
    const modalBg = $('modal-bg');
    const modalTitle = $('modal-title');
    const modalDesc = $('modal-desc');
    const modalPrice = $('modal-price');
    const modalMedia = $('modal-media');
    const modalSku = $('modal-sku');
    let currentModalProduct = null;

    function openModal(id){
      const p = products.find(x=>x.id===id);
      if(!p) return;
      currentModalProduct = p;
      modalTitle.textContent = p.title;
      modalDesc.textContent = 'A contemporary staple garment produced with quality fabric and careful craftsmanship.';
      modalPrice.textContent = formatPrice(p.price);
      modalMedia.style.backgroundImage = `url('${p.img}')`;
      modalSku.textContent = `SKU: ${p.sku}`;

      modalBg.classList.add('open');
      modalBg.setAttribute('aria-hidden','false');
    }

    $('close-modal').addEventListener('click', ()=> {
      modalBg.classList.remove('open');
      modalBg.setAttribute('aria-hidden','true');
    });

    // Modal: add to cart
    $('add-to-cart-modal').addEventListener('click', ()=>{
      if(!currentModalProduct) return;
      addToCart(currentModalProduct.id,1);
      modalBg.classList.remove('open');
      modalBg.setAttribute('aria-hidden','true');
    });

    // Cart behaviors
    const cartDrawer = $('cart-drawer');
    const cartCount = $('cart-count');
    const cartItems = $('cart-items');
    const cartTotal = $('cart-total');

    $('open-cart').addEventListener('click', ()=> toggleCart(true));
    $('close-cart').addEventListener('click', ()=> toggleCart(false));
    function toggleCart(open){
      if(open){
        cartDrawer.classList.add('open');
        cartDrawer.setAttribute('aria-hidden','false');
      } else {
        cartDrawer.classList.remove('open');
        cartDrawer.setAttribute('aria-hidden','true');
      }
    }

    function addToCart(id, qty=1){
      const p = products.find(x=>x.id===id);
      if(!p) return;
      if(state.cart[id]) state.cart[id].qty += qty;
      else state.cart[id] = { product: p, qty };

      updateCartUI();
    }

    function updateCartUI(){
      cartItems.innerHTML = '';
      let total = 0;
      let count = 0;
      Object.keys(state.cart).forEach(key => {
        const item = state.cart[key];
        const p = item.product;
        total += p.price * item.qty;
        count += item.qty;

        const itemEl = document.createElement('div');
        itemEl.className = 'cart-item';
        itemEl.innerHTML = `
          <div class="cart-thumb" style="background-image:url('${p.img}')"></div>
          <div class="cart-meta">
            <h4>${p.title}</h4>
            <p>${formatPrice(p.price)} â€¢ <span class="muted">SKU ${p.sku}</span></p>
            <div class="qty">
              <button data-dec="${p.id}" aria-label="Decrease">âˆ’</button>
              <div>${item.qty}</div>
              <button data-inc="${p.id}" aria-label="Increase">ï¼‹</button>
              <button data-remove="${p.id}" style="margin-left:8px;border:none;background:none;cursor:pointer;color:#e04b4b">Remove</button>
            </div>
          </div>
        `;
        cartItems.appendChild(itemEl);
      });

      cartTotal.textContent = formatPrice(total);
      cartCount.textContent = count;
      $('cart-count').textContent = count;

      // attach events to qty controls
      cartItems.querySelectorAll('[data-inc]').forEach(b=>{
        b.addEventListener('click',()=> { state.cart[b.dataset.inc].qty++; updateCartUI(); });
      });
      cartItems.querySelectorAll('[data-dec]').forEach(b=>{
        b.addEventListener('click',()=> {
          const id = b.dataset.dec;
          state.cart[id].qty = Math.max(0, state.cart[id].qty - 1);
          if(state.cart[id].qty === 0) delete state.cart[id];
          updateCartUI();
        });
      });
      cartItems.querySelectorAll('[data-remove]').forEach(b=>{
        b.addEventListener('click',()=> {
          delete state.cart[b.dataset.remove];
          updateCartUI();
        });
      });
    }

    // Checkout - Redirect to WhatsApp Business with order details
    $('checkout').addEventListener('click', ()=>{
      if (Object.keys(state.cart).length === 0) {
        alert('Your cart is empty!');
        return;
      }

      // Build order summary
      let orderSummary = "Hello! I would like to place an order:%0A%0A";
      let total = 0;

      Object.keys(state.cart).forEach(key => {
        const item = state.cart[key];
        const p = item.product;
        const itemTotal = p.price * item.qty;
        total += itemTotal;

        orderSummary += `â€¢ ${p.title} (SKU: ${p.sku}) - ${item.qty} x ${formatPrice(p.price)} = ${formatPrice(itemTotal)}%0A`;
      });

      orderSummary += `%0ATotal: ${formatPrice(total)}%0A%0A`;
      orderSummary += "Please let me know the next steps for payment and delivery.";

      // Replace with your actual WhatsApp Business number
      const whatsappNumber = "+2348153813401"; // Replace with your number
      const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${orderSummary}`;

      window.open(whatsappUrl, '_blank');
    });

    // Close modal on outside click
    modalBg.addEventListener('click', (e)=> {
      if(e.target === modalBg) { modalBg.classList.remove('open'); modalBg.setAttribute('aria-hidden','true'); }
    });

    // Simple sort (client-side)
    $('sort').addEventListener('change', (e)=>{
      const v = e.target.value;
      let filteredProducts = state.currentCategory === 'all'
        ? products
        : products.filter(p => p.category === state.currentCategory);

      let sorted = [...filteredProducts];
      if(v==='price-asc') sorted.sort((a,b)=>a.price-b.price);
      else if(v==='price-desc') sorted.sort((a,b)=>b.price-a.price);
      renderProducts(sorted);
    });

    // Accessibility: keyboard close modal (Escape)
    window.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape'){
        modalBg.classList.remove('open');
        modalBg.setAttribute('aria-hidden','true');
        toggleCart(false);
      }
    });
  </script>
</body>
</html>
